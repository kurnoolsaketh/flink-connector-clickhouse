## Getting started
flink-connector-clickhouse is an open-source project, and we welcome any contributions from the community. Please share your ideas, contribute to the codebase, and help us maintain up-to-date documentation.

### Create a fork of the repository and clone it
```bash
git clone https://github.com/[YOUR_USERNAME]/flink-connector-clickhouse
cd flink-connector-clickhouse
```

### Build modules
  ```bash
  cd flink-connector-clickhouse
  ./gradlew clean build
  ```

### Publish locally 
  ```bash
  cd flink-connector-clickhouse
  ./gradlew publishToMavenLocal
  ```

### Release a new version of the connector (for maintainers only)
1. In a new branch `update-version-<new_version_number>`, update `version.txt` to the new version number.
2. Create a PR to main, merge the version update commit.
3. Tag the version update commit with the version number (e.g. `0.1.3`) and push the tag to origin. **This will automatically trigger a Github action that will PR an update to all version references in the project and create a Github release for the new version.**
4. Approve and merge the autogenerated PR.

### Publish to Maven Central (for maintainers only)
Run the `Release` Github action by providing the target release version.
#### Note: this should only be performed after the target release version has been released (see above). 

## Testing

### Tooling
We use [TestNG](https://testng.org/) as testing framework and for running ClickHouse Local instance [testcontainers](https://www.testcontainers.org/modules/databases/clickhouse/).

### Running tests

Does not require a running ClickHouse server.

  ```bash
  cd flink-connector-clickhouse
  ./gradlew test 
  ```

if you want to run scala unit tests

  ```bash
  cd flink-connector-clickhouse
  ./gradlew clean runScalaTests
  ```
